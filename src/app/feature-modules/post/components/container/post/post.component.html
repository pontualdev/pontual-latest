<div class="advertisement mb-10" *ngIf="this.ads && this.ads[0]">
    <pontual-ads
    [topLabel]="false"
    [height]="'h-[69px] sm:h-[250px]'"
    [ad]="this.ads[0]"
    />
</div>
<div class="the-post-content my-14" *ngIf="this.thePost.title != ''">

    <div class="post-category">
        <pontual-chip
        [bgColor]="'primary'"
        [bgOpacity]="'bg-opacity-[1]'"
        [textColor]="'white'"
        [icon]="true"
        [iconColor]="'white'"
        [label]="this.thePost.categories[0].name"
        [gap]="'gap-2'"
        />
    </div>
    <div class="post-title mt-7 mb-6 max-w-[70.75rem]">
        <h1 class="text-secondary text-3xl xl:text-5xl font-bold leading-[40px] xl:leading-[62px] tracking-[-1.44px]" [innerHTML]="this.thePost.title"></h1>
    </div>
    <div class="post-excerpt max-w-[51.125rem]">
        <p class="text-secondary text-base font-bold xl:text-lg xl:leading-7 font-['Inter']" [innerHTML]="this.thePost.highlightDescription"></p>
    </div>
    <div class="post-author mt-6 flex gap-2 justify-start items-center">
        <p class="text-primary text-base font-bold">
            {{ this.thePost.author }}
        </p>
        <span class=" text-[#808080] text-base">
            {{ this.getPersonRoleByName(this.thePost.author) }}
        </span>
    </div>
    <div class="highlight-image mt-12 xl:mt-14">
        <div class="background-image relative rounded w-full h-[300px] md:h-[410px] xl:h-[516px] max-h-[516px] overflow-hidden bg-cover bg-center"
            [style.backgroundImage]="this.thePost.imagePath.thumbnailImageSize | turnUrlable"
            >
                <img [ngSrc]="this.thePost.imagePath.fullImageSize" fill
                (load)="appearWhenLoaded($event)"
                [ngClass]="{
                    'showLazyLoadImageWithTransition': this.imageMayAppear,
                    'notShowLazyLoadImageWithTransition': !this.imageMayAppear
                }"
                class="w-full h-full opacity-0 object-cover object-center" alt="">
        </div>
        <div class="image-rights mt-4">
            <p class="text-[#808080] text-xs">Registro autoral da fotografia</p>
        </div>
    </div>
    <div class="tiny-details mt-4 flex gap-y-5 flex-col md:flex-row md:justify-between md:items-center">
        <div class="col- flex gap-6 items-center">
            <div class="created-at">
                Há {{ this.thePost.created_at }}
            </div>
            <div class="time_to_read text-[#808080] text-base">
                {{ this.thePost.read_time }} de leitura
            </div>
        </div>
        <div class="col-">
            <div class="share-icons flex gap-4 items-center">
                <div class="icon">
                    <a href="javascript:void(0)" (click)="this.sharerFacebook()">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="16" fill="#D3352A"/>
                            <g clip-path="url(#clip0_644_3391)">
                            <path d="M16 8C11.5818 8 8 11.5818 8 16C8 19.7517 10.583 22.8998 14.0675 23.7645V18.4448H12.4179V16H14.0675V14.9466C14.0675 12.2237 15.2998 10.9616 17.9731 10.9616C18.48 10.9616 19.3546 11.0611 19.7123 11.1603V13.3763C19.5235 13.3565 19.1955 13.3466 18.7882 13.3466C17.4765 13.3466 16.9696 13.8435 16.9696 15.1354V16H19.5827L19.1338 18.4448H16.9696V23.9414C20.9309 23.463 24.0003 20.0902 24.0003 16C24 11.5818 20.4182 8 16 8Z" fill="white"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_644_3391">
                            <rect width="16" height="16" fill="white" transform="translate(8 8)"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </a>
                </div>
                <div class="icon">
                    <a href="javascript:void(0)" (click)="this.sharerLinkedin()">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="16" fill="#D3352A"/>
                            <g clip-path="url(#clip0_644_3395)">
                            <path d="M22.8156 8H9.18125C8.52812 8 8 8.51563 8 9.15313V22.8438C8 23.4813 8.52812 24 9.18125 24H22.8156C23.4688 24 24 23.4813 24 22.8469V9.15313C24 8.51563 23.4688 8 22.8156 8ZM12.7469 21.6344H10.3719V13.9969H12.7469V21.6344ZM11.5594 12.9563C10.7969 12.9563 10.1813 12.3406 10.1813 11.5812C10.1813 10.8219 10.7969 10.2062 11.5594 10.2062C12.3188 10.2062 12.9344 10.8219 12.9344 11.5812C12.9344 12.3375 12.3188 12.9563 11.5594 12.9563ZM21.6344 21.6344H19.2625V17.9219C19.2625 17.0375 19.2469 15.8969 18.0281 15.8969C16.7937 15.8969 16.6062 16.8625 16.6062 17.8594V21.6344H14.2375V13.9969H16.5125V15.0406H16.5437C16.8594 14.4406 17.6344 13.8063 18.7875 13.8063C21.1906 13.8063 21.6344 15.3875 21.6344 17.4438V21.6344Z" fill="white"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_644_3395">
                            <rect width="16" height="16" fill="white" transform="translate(8 8)"/>
                            </clipPath>
                            </defs>
                        </svg>                            
                    </a>
                </div>
                <div class="icon">
                    <a href="javascript:void(0)" (click)="this.sharerTwitter()">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="16" fill="#D3352A"/>
                            <path d="M20.2179 9.26953H22.4668L17.5535 14.8852L23.3337 22.5268H18.8078L15.263 17.8922L11.207 22.5268H8.95661L14.2119 16.5203L8.66699 9.26953H13.3077L16.5119 13.5058L20.2179 9.26953ZM19.4285 21.1807H20.6747L12.6306 10.545H11.2933L19.4285 21.1807Z" fill="white"/>
                        </svg>                                                     
                    </a>
                </div>
                <!-- <div class="icon">
                    <a href="javascript:void(0)" (click)="this.sharerWhatsapp()">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="16" fill="#D3352A"/>
                            <path d="M24 15.7942C24 20.0985 20.4835 23.5878 16.1448 23.5878C14.7679 23.5878 13.4745 23.2357 12.3486 22.619L8 24L9.41755 19.8173C8.70277 18.6434 8.29113 17.2649 8.29113 15.7937C8.29165 11.4894 11.8071 8 16.1458 8C20.484 8.00104 24 11.4899 24 15.7942ZM16.1443 9.24277C12.5031 9.24277 9.5412 12.1822 9.5412 15.7957C9.5412 17.2295 10.0087 18.5568 10.7991 19.6367L9.97476 22.0696L12.5114 21.2635C13.5549 21.948 14.8034 22.3466 16.1443 22.3466C19.7854 22.3466 22.7484 19.4077 22.7484 15.7942C22.7494 12.1822 19.786 9.24277 16.1443 9.24277ZM20.1115 17.5895C20.0625 17.5107 19.9341 17.4627 19.7421 17.3667C19.5507 17.2707 18.6027 16.8089 18.4268 16.7463C18.2495 16.6822 18.1211 16.6498 17.9928 16.8413C17.866 17.0328 17.4966 17.4627 17.3834 17.591C17.2712 17.7189 17.159 17.735 16.9665 17.6406C16.774 17.5435 16.1531 17.3432 15.4175 16.6926C14.8451 16.1855 14.4585 15.561 14.3469 15.3695C14.2337 15.1785 14.3354 15.0752 14.4309 14.9803C14.517 14.8942 14.6234 14.757 14.7199 14.6448C14.8164 14.5337 14.8483 14.4549 14.9124 14.3271C14.9756 14.1992 14.9438 14.0881 14.8963 13.9916C14.8483 13.8956 14.4638 12.9565 14.3025 12.574C14.1424 12.1921 13.9822 12.2553 13.8695 12.2553C13.7573 12.2553 13.629 12.2396 13.5006 12.2396C13.3723 12.2396 13.1636 12.286 12.9878 12.4775C12.8119 12.669 12.3142 13.1307 12.3142 14.0709C12.3142 15.0121 13.0034 15.9194 13.0999 16.0467C13.197 16.1735 14.4325 18.166 16.3895 18.9308C18.3475 19.6952 18.3475 19.44 18.7002 19.4077C19.054 19.3754 19.8397 18.946 19.9993 18.5004C20.16 18.0528 20.16 17.6693 20.1115 17.5895Z" fill="white"/>
                        </svg>
                    </a>
                </div> -->
            </div>
        </div>
    </div>
    <div class="body-section relative mt-12 flex flex-col lg:flex-row lg:justify-between lg:items-stretch">
        <div class="the-content lg:max-w-[60%] text-base leading-6 text-[#4b4b4b] font-['Inter']" [innerHTML]="this.thePost.fullDescription">
        </div>
        <div class="aside-section w-fit min-w-[30%] left-0 sticky mt-16 lg:mt-0 lg:top-[140px]">
            <div class="related-posts" *ngIf="this.relatedPosts.length > 0">
                <div class="title mb-3">
                    <h1 class="text-secondary text-2xl font-bold leading-8">
                        Notícias Relacionadas
                    </h1>
                </div>
                <div class="posts">
                    <div class="related-posts">
                        <pontual-post-card
                        *ngFor="let post of this.relatedPosts"
                        [cardType]="'short'"
                        [postImagePath]="post.imagePath"
                        [postTitle]="post.title"
                        [postSlug]="post.slug"
                        [postCategory]="post.categories[0].name"
                        [postAuthor]="post.author"
                        [postCreatedAt]="post.created_at"
                        />
                    </div>
                </div>
            </div>
            <div class="advertisement"
            [ngClass]="{ 'mt-20': this.relatedPosts.length > 0 }"
            >
                <div class="advertisement mb-10" *ngIf="this.ads && this.ads[1]">
                    <pontual-ads
                    [topLabel]="true"
                    [height]="'h-[69px] xl:h-[523px]'"
                    [ad]="this.ads[1]"
                    />
                </div>
            </div>
        </div>
    </div>
    <div class="recommended-posts my-24">
        <div class="section-title mb-[52px]">
            <h1 class="text-secondary text-3xl font-bold leading-10">
                Notícias que você também pode gostar
            </h1>
        </div>
        <div class="posts-container postsBeforeAdvertisement flex w-full flex-wrap gap-x-12 gap-y-16 justify-center lg:justify-start items-stretch">
            @if(this.recommendedPosts && this.recommendedPosts.length > 0){
                <pontual-post-card
                *ngFor="let post of this.recommendedPosts; let index = index"
                [isFirstItem]="(index == 0) ? true : false"
                [showPostImage]="true"
                [postImagePath]="post.imagePath"
                [postTitle]="post.title"
                [postSlug]="post.slug"
                [postCategory]="post.categories[0].name"
                [postHighlightDescription]="post.highlightDescription"
                [postAuthor]="post.author"
                [postCreatedAt]="post.created_at"
                />
            }
    
        </div>
    </div>

</div>